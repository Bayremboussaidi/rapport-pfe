graph TD
    subgraph "ğŸ–¥ï¸ PRESENTATION LAYER"
        A["Angular 16 Frontend<br/>â€¢ Responsive UI<br/>â€¢ Role-based Views<br/>â€¢ HTTP Polling Chat"]
    end
    
    subgraph "âš™ï¸ APPLICATION SERVICES"
        B["Spring Boot 3.x API<br/>â€¢ REST Controllers<br/>â€¢ Business Logic<br/>â€¢ Spring Security + JWT<br/>â€¢ Email Service"]
        
        C["ğŸ¤– Flask AI Chatbot<br/>â€¢ OpenAI GPT Integration<br/>â€¢ Car Recommendations<br/>â€¢ DB Context Fetching<br/>â€¢ FAQ Responses"]
        
        D["ğŸ” Keycloak Server<br/>â€¢ Admin Auth (OAuth2)<br/>â€¢ Role Management<br/>â€¢ Token Issuing"]
    end
    
    subgraph "ğŸ›¡ï¸ SECURITY"
        S1["Spring Security<br/>â€¢ JWT Validation<br/>â€¢ Customer/Agency Auth<br/>â€¢ CORS Config"]
    end
    
    subgraph "ğŸ—„ï¸ DATA LAYER"
        E["MySQL 8 Database<br/>â€¢ Users & Agencies<br/>â€¢ Vehicles & Bookings<br/>â€¢ Chat Messages<br/>â€¢ Notifications"]
    end
    
    subgraph "ğŸš€ DEVOPS & INFRASTRUCTURE"
        F["ğŸ³ Docker<br/>Multi-container"]
        G["â˜¸ï¸ Kubernetes<br/>Minikube"]
        H["ğŸ”„ GitLab CI/CD<br/>Pipeline"]
    end
    
    A -->|"HTTPS REST"| B
    A -->|"HTTP POST /chat"| C
    A -->|"Admin OAuth2"| D
    
    B -->|"JPA/Hibernate"| E
    B <-->|"Token Validation"| D
    B ---|"JWT Filter"| S1
    
    C -->|"Fetch Context"| E
    C -->|"OpenAI API"| AI[("â˜ï¸ OpenAI<br/>GPT API")]
    
    F --> G --> H
