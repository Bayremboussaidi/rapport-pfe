graph TB
    subgraph FRONTEND["üñ•Ô∏è PRESENTATION LAYER"]
        A["Angular 16 Frontend<br/>Bootstrap ‚Ä¢ HTTP Polling Chat (30s)<br/>Route Guards ‚Ä¢ JWT Storage"]
    end
    
    subgraph BACKEND["‚òï APPLICATION LAYER"]
        B["Spring Boot 3.x API<br/>REST Controllers ‚Ä¢ Business Logic<br/>Spring Security + JWT ‚Ä¢ Email Service"]
        C["Flask AI Chatbot<br/>OpenAI GPT ‚Ä¢ Car Recommendations<br/>DB Context Fetching ‚Ä¢ FAQ/NLP"]
    end
    
    subgraph SECURITY["üîê SECURITY LAYER"]
        D["Keycloak Server<br/>Admin Auth ‚Ä¢ RBAC<br/>Token Issuing"]
        S1["Spring Security<br/>JWT Validation<br/>Customer/Agency Auth"]
    end
    
    subgraph DATA["üóÑÔ∏è DATA LAYER"]
        E["MySQL 8 Database<br/>Users ‚Ä¢ Vehicles ‚Ä¢ Bookings<br/>Chat Messages ‚Ä¢ Notifications"]
        AI[("OpenAI GPT API")]
    end
    
    subgraph INFRA["üê≥ INFRASTRUCTURE"]
        F["Docker"] --> G["Kubernetes"] --> H["GitLab CI/CD"]
    end
    
    A -->|"HTTPS REST"| B
    A -->|"HTTP POST /chat"| C
    A -->|"Admin OAuth2"| D
    B -->|"JPA/Hibernate"| E
    B <-->|"Token Validation"| D
    B --- S1
    C -->|"Fetch Context"| E
    C -->|"API Call"| AI
